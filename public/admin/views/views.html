<section data-ng-controller="ViewsController">
	<h1 class="text-left">CMS Views</h1>
	<br>
	<form id="view-add-form" class="row-fluid form-inline" name="addViewForm" data-ng-submit="add()" >
		<div class="">
			<input type="text" class="span5" data-ng-model="name" placeholder="Name" id="category-add-title" autofocus />
		 	<input type="submit" class="btn span2" value="Add"/>
		</div>
	</form>
	<div class="loader" data-ng-init="init()" data-ng-hide="views.length"></div>
	<div class="actions-bar" data-ng-show="views.length">
		<input type="button" class="btn btn-danger" data-ng-hide="edit" data-ng-click="edit=!edit"  value="Edit">
		<input type="button" class="btn btn-primary" data-ng-show="edit" data-ng-click="edit=!edit"  value="Done">
	</div>	
	<br>
	<table class="table table-striped table-bordered table-hover editable-table" data-ng-show="views.length">
		<tr>
			<th data-ng-show="edit">
				Edit
			</th>
			<th>#</th>
			<th>Name</th>
			<th>Fields</th>
		</tr>
		<tr data-ng-repeat="view in views | orderBy: ['name']">
			<td data-ng-show="edit">
				<button class="btn btn-danger" data-ng-click="remove(view)" value="del" >
					<i class="icon-trash  icon-white"></i>
				</button>	
			</td>
			<td class="table-editable-cell">
				<span>{{view.viewId}}</span>
			</td>
			<td class="table-editable-cell">
				<span class="editable-span" data-ng-editable="update(view)" data-ng-editable-model="view.name"></span>
			</td>
			<td class="table-editable-cell">
				<a data-ng-href="#!/views/{{view.viewId}}">Fields</a>
			</td>
		</tr>
	</table>
</section>